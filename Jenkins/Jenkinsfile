pipeline {
    agent any

    environment {
        // Definir las rutas de Python y pip
        PYTHON_HOME = 'C:\\Users\\Jjaavviieerroperro\\AppData\\Local\\Programs\\Python\\Python312'
        PATH = "${PYTHON_HOME};${PYTHON_HOME}\\Scripts;${env.PATH}"
    }

    stages {
        stage('Checkout SCM') {
            steps {
                echo 'Checking out source code...'
                checkout scm
            }
        }

        stage('Instalar Dependencias') {
            steps {
                echo 'Verificando instalación de Python y pip'
                script {
                    // Depuración: Mostrar las rutas de Python y pip
                    sh 'echo $PATH'  // Esto debería mostrar el PATH completo
                    sh 'python --version'  // Mostrar la versión de Python
                    sh 'pip --version'  // Mostrar la versión de pip
                }
            }
        }

        stage('Entrenar Modelo') {
            steps {
                echo 'Entrenando modelo...'
                // Tu código para entrenar el modelo aquí
            }
        }

        stage('Ejecutar Pruebas') {
            steps {
                echo 'Ejecutando pruebas...'
                // Tu código para ejecutar pruebas aquí
            }
        }

        stage('Post Actions') {
            steps {
                echo 'Cleaning up workspace...'
                cleanWs()
            }
        }
    }

    post {
        failure {
            echo 'El pipeline falló. Revisa los logs detallados.'
        }
    }
}




